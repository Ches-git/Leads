(function(e){function t(t){for(var a,i,o=t[0],l=t[1],c=t[2],u=0,m=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,o=1;o<s.length;o++){var l=s[o];0!==n[l]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},n={app:0},r=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0a4e":function(e,t,s){"use strict";s("e008")},"0aa6":function(e,t,s){"use strict";s("3fa1")},1121:function(e,t,s){},1945:function(e,t,s){},2665:function(e,t,s){"use strict";s("967a")},"35b2":function(e,t,s){"use strict";s("4a08")},"3fa1":function(e,t,s){},"481b":function(e,t,s){},"4a08":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=s("5f5b"),r=s("b1e0"),i=(s("f9e3"),s("2dd8"),s("ad3d")),o=s("bc3a"),l=s.n(o),c=s("2106"),d=s.n(c),u=s("8c4f"),m=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-form"},[s("form",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}}},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":e.dataBackgroundColor}},[s("h4",{staticClass:"title"},[e._v("Login")]),s("p",{staticClass:"category"},[e._v("Please enter username and password")])]),s("md-card-content",[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-small-size-100 md-size-100"},[s("md-field",{class:e.messageClass},[s("label",[e._v("Username/E-mail")]),s("md-input",{attrs:{type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("span",{staticClass:"md-error"},[e._v("incorrect")])],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-100"},[s("md-field",{class:e.messageClass},[s("label",[e._v("Password")]),s("md-input",{attrs:{type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("span",{staticClass:"md-error"},[e._v("incorrect")])],1)],1),s("div",{staticClass:"md-layout-item md-size-100 text-center"},[s("md-button",{staticClass:"md-raised md-success",on:{click:e.login}},[e._v("Login")])],1)])])],1)],1)])},f=[],p={name:"login",props:{dataBackgroundColor:{type:String,default:"green"}},data:function(){return{username:"",password:"",incorrect:null}},computed:{messageClass:function(){return{"md-invalid":this.incorrect}}},methods:{login:function(){var e=this;this.$store.dispatch("retrieveToken",{username:this.username,password:this.password}).then((function(t){e.$router.push({path:"/home"})})).catch((function(t){e.incorrect=!0,console.log(t.code)}))}}},h=p,g=s("2877"),v=Object(g["a"])(h,m,f,!1,null,null,null),b=v.exports,y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-form"},[s("form",{attrs:{action:"#"},on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.register.apply(null,arguments)}}},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":e.dataBackgroundColor}},[s("h4",{staticClass:"title"},[e._v("Register")]),s("p",{staticClass:"category"},[e._v("Please enter your data here")])]),s("md-card-content",[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-small-size-100 md-size-100"},[s("md-field",[s("label",[e._v("name")]),s("md-input",{attrs:{type:"text"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-100"},[s("md-field",[s("label",[e._v("E-mail")]),s("md-input",{attrs:{type:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-100"},[s("md-field",[s("label",[e._v("Password")]),s("md-input",{attrs:{type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),s("div",{staticClass:"md-layout-item md-size-100 text-center"},[s("md-button",{staticClass:"md-raised md-success",on:{click:e.register}},[e._v("Register")])],1)])])],1)],1)])},k=[],_=(s("b0c0"),{data:function(){return{name:"",email:"",password:""}},props:{dataBackgroundColor:{type:String,default:"green"}},methods:{register:function(){var e=this;this.$store.dispatch("register",{name:this.name,email:this.email,password:this.password}).then((function(t){e.$router.push({name:"login"})}))}}}),C=_,w=Object(g["a"])(C,y,k,!1,null,null,null),x=w.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},U=[],z={created:function(){var e=this;this.$store.dispatch("clearTodos"),this.$store.dispatch("destroyToken").then((function(t){e.$router.push({name:"login"})}))}},L=z,A=Object(g["a"])(L,$,U,!1,null,null,null),F=A.exports,P=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-medium-size-100 md-size-66"},[s("Progress")],1),s("div",{staticClass:"md-layout-item md-medium-size-100 md-size-33"},[s("LeadsSmallProgress")],1)])])},O=[],B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("md-card",{attrs:{"md-with-hover":""}},[s("md-card-header",{attrs:{"data-background-color":e.dataBackgroundColor}},[s("div",{staticClass:"md-title circles-title"},[e._v("Total Leads")])]),s("md-card-content",{staticClass:"circles-title-progress"},[s("vue-ellipse-progress",{attrs:{progress:100*this.leadsFiltered.filter((function(e){return e.resubmission})).length/100,color:"#2f855a","empty-color":"#324c7e",size:180,thickness:5,"empty-thickness":3,lineMode:"out 5",legend:"",animation:"rs 700 1000",legendValue:this.leadsFiltered.length,fontSize:"1.5rem","font-color":"black"}},[s("p",{attrs:{slot:"legend-caption"},slot:"legend-caption"},[e._v(" leads")])])],1)],1),s("md-card",{attrs:{"md-with-hover":""}},[s("md-card-header",{attrs:{"data-background-color":e.dataBackgroundColor}},[s("div",{staticClass:"md-title circles-title"},[e._v("Wiedervorlage")])]),s("md-card-content",{staticClass:"circles-title-progress"},[s("vue-ellipse-progress",{attrs:{progress:100*this.leadsFiltered.filter((function(e){return e.resubmission})).length/this.leadsFiltered.length,color:"#2f855a","empty-color":"#324c7e",size:180,thickness:5,"empty-thickness":3,lineMode:"out 5",legend:"",animation:"rs 700 1000",legendValue:this.leadsFiltered.filter((function(e){return e.resubmission})).length,fontSize:"1.5rem","font-color":"black"}},[s("p",{attrs:{slot:"legend-caption"},slot:"legend-caption"},[e._v("Wiedervorlage leads")])])],1)],1)],1)},S=[],E={name:"user-card",props:{dataBackgroundColor:{type:String,default:"green"}},computed:{leadsFiltered:function(){return this.$store.getters.leadsFiltered}},created:function(){this.$store.dispatch("retrieveLeads")}},I=E,D=Object(g["a"])(I,B,S,!1,null,null,null),j=D.exports,N=function(){var e=this,t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("md-card",{attrs:{"md-with-hover":""}},[a("md-card-header",{attrs:{"data-background-color":t.dataBackgroundColor}},[a("div",{staticClass:"md-title circles-title"},[t._v("Leads")])]),a("md-card-content",[a("div",{staticClass:"circles-title-progress"},[a("vue-ellipse-progress",{attrs:{progress:100*this.leadsFiltered.filter((function(t){return t.date===e.datum})).length/this.leadsFiltered.length,color:"#2f855a","empty-color":"#324c7e",size:180,thickness:5,"empty-thickness":3,lineMode:"out 5",legend:"",animation:"rs 700 1000",legendValue:this.leadsFiltered.filter((function(t){return t.date===e.datum})).length,fontSize:"1.5rem","font-color":"black"}},[a("p",{attrs:{slot:"legend-caption"},slot:"legend-caption"},[t._v("Leads Today")])]),a("vue-ellipse-progress",{attrs:{progress:100*this.leadsFiltered.filter((function(t){return t.date===e.datum})).length/this.leadsFiltered.length,color:"#2f855a","empty-color":"#324c7e",size:180,thickness:5,"empty-thickness":3,lineMode:"out 5",legend:"",animation:"rs 700 1000",legendValue:this.leadsFiltered.filter(this.getWeek).length,fontSize:"1.5rem","font-color":"black"}},[a("p",{attrs:{slot:"legend-caption"},slot:"legend-caption"},[t._v("Leads this Week")])]),a("vue-ellipse-progress",{attrs:{progress:100*this.leadsFiltered.filter((function(t){return t.date===e.datum})).length/this.leadsFiltered.length,color:"#2f855a","empty-color":"#324c7e",size:180,thickness:5,"empty-thickness":3,lineMode:"out 5",legend:"",animation:"rs 700 1000",legendValue:this.leadsFiltered.filter((function(t){return t.date.slice(5,7)===("0"+(e.today.getMonth()+1)).slice(-2)})).length,fontSize:"1.5rem","font-color":"black"}},[a("p",{attrs:{slot:"legend-caption"},slot:"legend-caption"},[t._v("Leads this month")])])],1)])],1),a("md-card",{attrs:{"md-with-hover":""}},[a("md-card-header",{attrs:{"data-background-color":t.dataBackgroundColor}},[a("div",{staticClass:"md-title circles-title"},[t._v("Status")])]),a("md-card-content",{staticClass:"circles-title-progress"},[a("vue-ellipse-progress",{attrs:{progress:100*this.leadsFiltered.filter((function(e){return"Abgesclossen"==e.status})).length/this.leadsFiltered.length,color:"#2f855a","empty-color":"#324c7e",size:180,thickness:5,"empty-thickness":3,lineMode:"out 5",legend:"",animation:"rs 700 1000",legendValue:this.leadsFiltered.filter((function(e){return"Abgesclossen"==e.status})).length,fontSize:"1.5rem","font-color":"black"}},[a("p",{attrs:{slot:"legend-caption"},slot:"legend-caption"},[t._v("Status Abgesclossen")])]),a("vue-ellipse-progress",{attrs:{progress:100*this.leadsFiltered.filter((function(e){return"Bearbeitung"==e.status})).length/this.leadsFiltered.length,color:"#2f855a","empty-color":"#324c7e",size:180,thickness:5,"empty-thickness":3,lineMode:"out 5",legend:"",animation:"rs 700 1000",legendValue:this.leadsFiltered.filter((function(e){return"Bearbeitung"==e.status})).length,fontSize:"1.5rem","font-color":"black"}},[a("p",{attrs:{slot:"legend-caption"},slot:"legend-caption"},[t._v("Status Bearbeitung")])]),a("vue-ellipse-progress",{attrs:{progress:100*this.leadsFiltered.filter((function(e){return"Neu"==e.status})).length/this.leadsFiltered.length,color:"#2f855a","empty-color":"#324c7e",size:180,thickness:5,"empty-thickness":3,lineMode:"out 5",legend:"",animation:"rs 700 1000",legendValue:this.leadsFiltered.filter((function(e){return"Neu"==e.status})).length,fontSize:"1.5rem","font-color":"black"}},[a("p",{attrs:{slot:"legend-caption"},slot:"legend-caption"},[t._v("Status Neu")])])],1)],1)],1)},T=[],M=(s("fb6a"),s("ac1f"),s("1276"),s("1315")),q={name:"progress",props:{dataBackgroundColor:{type:String,default:"green"}},data:function(){return{today:new Date,datum:null,weekNumber:null}},created:function(){this.$store.dispatch("retrieveLeads"),this.datum=this.today.getFullYear()+"-"+("0"+(this.today.getMonth()+1)).slice(-2)+"-"+this.today.getDate(),this.weekNumber=M["DateTime"].utc().weekNumber},computed:{leadsFiltered:function(){return this.$store.getters.leadsFiltered}},methods:{getWeek:function(e){var t=e.date.split("-"),s=M["DateTime"].utc(parseInt(t[0]),parseInt(t[1]),parseInt(t[2])).weekNumber;if(s==this.weekNumber)return e}}},H=q,V=Object(g["a"])(H,N,T,!1,null,null,null),R=V.exports,W={components:{Progress:R,LeadsSmallProgress:j},computed:{showUpdate:function(){return this.$store.getters.showUpdate},showRegister:function(){return this.$store.getters.showRegister}},created:function(){}},J=W,Y=(s("5950"),Object(g["a"])(J,P,O,!1,null,null,null)),G=Y.exports,K=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-medium-size-100 md-size-66"},[s("div"),e.showUpdate?s("EditProfileForm",{attrs:{"data-background-color":"green"}}):e._e(),e.showUpdate||"Admin"!==e.showAccess?e._e():s("UsersPage")],1),s("div",{staticClass:"md-layout-item md-medium-size-100 md-size-33"},[s("UserCard"),e.showUpdate&&"Admin"===e.showAccess?s("UsersPage"):e._e()],1)])])},Q=[],X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("md-card",{staticClass:"md-card-profile"},[s("div",{staticClass:"md-card-avatar"},[s("img",{staticClass:"img",attrs:{src:""+this.$store.state.userURL+this.$store.state.userPhoto}})]),s("md-card-content",[s("h6",{staticClass:"category text-gray"},[e._v(e._s(e.showFullUser.position)+" ")]),s("h6",{staticClass:"category text-gray"},[e._v(e._s(e.showFullUser.access_level)+" ")]),s("h4",{staticClass:"card-title"},[e._v(e._s(e.showUser.name))]),s("p",{staticClass:"card-description"},[e._v(" "+e._s(e.showFullUser.about)+" ")]),s("md-button",{staticClass:"md-round md-success",on:{click:e.showUpdateForm}},[e._v("Update profile")])],1)],1)},Z=[],ee={name:"user-card",data:function(){return{image:null,photo:null}},computed:{showUpdate:function(){return this.$store.getters.showUpdate},showUser:function(){return this.$store.getters.retrieveUser},showFullUser:function(){return this.$store.getters.retrieveUser}},methods:{showUpdateForm:function(){this.$store.dispatch("showUpdate")}},created:function(){this.$store.dispatch("retrieveUserPhoto"),this.$store.dispatch("retrieveUser")}},te=ee,se=Object(g["a"])(te,X,Z,!1,null,null,null),ae=se.exports,ne=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",[s("md-card",[s("md-card-header",{attrs:{"data-background-color":e.dataBackgroundColor}},[s("h4",{staticClass:"title"},[e._v("Edit Profile")]),s("p",{staticClass:"category"},[e._v("Complete your profile")])]),s("md-card-content",[s("div",{staticClass:"md-layout"},[s("div",{staticClass:"md-layout-item md-small-size-100 md-size-50"},[s("md-field",[s("label",[e._v(" Name")]),s("md-input",{attrs:{type:"text"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-50 md-size-50"},[s("md-field",[s("label",[e._v("Email Address")]),s("md-input",{attrs:{type:"email"},model:{value:e.emailadress,callback:function(t){e.emailadress=t},expression:"emailadress"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-50 md-size-50"},[s("md-field",[s("label",[e._v("Position")]),s("md-input",{attrs:{type:"email"},model:{value:e.position,callback:function(t){e.position=t},expression:"position"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-100"},[s("md-field",{class:e.messageClass},[s("label",[e._v("Upload Photo")]),s("md-file",{attrs:{placeholder:"Upload photo"},on:{change:e.getImage}}),s("span",{staticClass:"md-error"},[e._v("max size 2MB")])],1)],1),s("div",{staticClass:"md-layout-item md-size-100"},[s("md-field",{attrs:{maxlength:"20"}},[s("label",[e._v("About Me")]),s("md-textarea",{model:{value:e.aboutme,callback:function(t){e.aboutme=t},expression:"aboutme"}})],1)],1),s("div",{staticClass:"md-layout-item md-size-100 text-right"},[e.error?s("md-button",{staticClass:"md-raised md-success",attrs:{disabled:""}},[e._v("Update Profile")]):s("md-button",{staticClass:"md-raised md-success",on:{click:e.onUpload}},[e._v("Update Profile")])],1)])])],1)],1)},re=[],ie={name:"edit-profile-form",props:{dataBackgroundColor:{type:String,default:""}},data:function(){return{disabled:null,name:null,emailadress:null,image:null,position:null,aboutme:"",error:!1}},computed:{messageClass:function(){return{"md-invalid":this.error}}},methods:{getImage:function(e){this.image=e.target.files[0],console.log(this.image.size),this.image.size>2097152?this.error=!0:this.error=!1},onUpload:function(){var e=this,t=new FormData;t.append("image",this.image),l.a.post("/user/image/upload/0",t),l.a.put("/user/update/0",{user:{name:this.name?this.name:this.$store.state.user.name,email:this.emailadress?this.emailadress:this.$store.state.user.email,about:this.aboutme?this.aboutme:this.$store.state.user.about,position:this.position?this.position:this.$store.state.user.position,access_level:this.$store.state.user.access_level}}).then((function(t){e.$store.dispatch("retrieveUserPhoto"),e.$store.dispatch("retrieveUser")}))}}},oe=ie,le=Object(g["a"])(oe,ne,re,!1,null,null,null),ce=le.exports,de=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticStyle:{display:"flex","justify-content":"center"}},[s("div",{staticClass:"todo-list"},[s("md-card",[s("md-card-header",{attrs:{"data-background-color":e.dataBackgroundColor}},[s("h4",{staticClass:"title circles-title"},[e._v("Users")])]),s("md-card-content",e._l(e.showUsers,(function(e){return s("User",{key:e.file_path,attrs:{user:e}})})),1)],1)],1)])])},ue=[],me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-container"},[s("div",{staticClass:"user-container-left"},[s("md-avatar",[s("img",{staticClass:"img",attrs:{src:""+this.$store.state.userURL+e.photo}}),s("md-tooltip",{attrs:{"md-direction":"bottom"}},[e._v(e._s(e.position))])],1),s("div",{staticClass:"user-label",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.name)+" ")])],1),s("div",{staticClass:"remove-item"},[s("UserModal",{attrs:{user:e.user,showDialog:!1}})],1)])},fe=[],pe=(s("a4d3"),s("e01a"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("md-dialog",{attrs:{"md-active":e.showDialog},on:{"update:mdActive":function(t){e.showDialog=t},"update:md-active":function(t){e.showDialog=t}}},[s("md-dialog-content",[s("md-card",{staticClass:"md-card-profile"},[s("div",{staticClass:"md-card-avatar",on:{click:function(t){return e.$refs.file.click()}}},[s("img",{staticClass:"img",attrs:{src:""+this.$store.state.userURL+e.user.file_path}}),s("md-tooltip",{attrs:{"md-direction":"bottom"}},[e._v("Change Photo")]),s("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.uploadImage(e.user.id)}}})],1),s("md-card-content",[s("div",{staticClass:"md-layout lead-update-form"},[s("div",{staticClass:"md-layout-item md-small-size-100 md-size-100"},[s("md-field",{class:e.messageClass},[s("label",[e._v("Change name")]),s("md-input",{model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),s("span",{staticClass:"md-error"},[e._v("required")])],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-50"},[s("md-field",[s("label",[e._v("Change Position")]),s("md-input",{model:{value:e.user.position,callback:function(t){e.$set(e.user,"position",t)},expression:"user.position"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-50"},[s("md-field",[s("label",[e._v("Change Description")]),s("md-input",{model:{value:e.user.about,callback:function(t){e.$set(e.user,"about",t)},expression:"user.about"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-50"},[s("md-field",{class:e.messageClass},[s("label",[e._v("Change Email")]),s("md-input",{model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),s("span",{staticClass:"md-error"},[e._v("Required")])],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-50"},[s("md-field",[s("label",[e._v("Change Access")]),s("md-select",{model:{value:e.user.access_level,callback:function(t){e.$set(e.user,"access_level",t)},expression:"user.access_level"}},[s("md-option",{attrs:{value:"Admin"}},[e._v("Admin")]),s("md-option",{attrs:{value:"Mitarbeiter"}},[e._v("Mitarbeiter")])],1)],1)],1)]),s("md-button",{staticClass:"md-round md-success",on:{click:function(t){return e.updateUser(e.user)}}},[e._v("Update profile")])],1)],1)],1)],1),s("div",{on:{click:function(t){e.showDialog=!0}}},[s("md-icon",[e._v("mode_edit")])],1)],1)}),he=[],ge={name:"DialogCustom",props:{user:{type:Object,required:!0},showDialog:{type:Boolean,required:!0}},data:function(){return{image:null,incorrect:null}},computed:{messageClass:function(){return{"md-invalid":this.incorrect}}},methods:{fetchUsers:function(){this.$store.dispatch("retrieveUsers")},uploadImage:function(e){var t=this;if(this.image=event.target.files[0],this.image.size>2097152)alert("Max size 2MB");else{var s=new FormData;s.append("image",this.image),l.a.post("/user/image/upload/"+e,s).then((function(e){t.fetchUsers(),t.$store.dispatch("retrieveUsers"),t.$store.dispatch("retrieveUserPhoto")}))}},updateUser:function(e){e.email.length<=0||e.name.length<=0?this.incorrect=!0:(this.incorrect=!1,l.a.put("/user/update/"+e.id,{user:{name:e.name,email:e.email,about:e.about,position:e.position,access_level:e.access_level}}).then(this.$store.state.users=[],this.fetchUsers()))}},created:function(){this.fetchUsers()}},ve=ge,be=(s("803d"),Object(g["a"])(ve,pe,he,!1,null,"d1c40540",null)),ye=be.exports,ke={name:"user",components:{UserModal:ye},data:function(){return{id:this.user.id,name:this.user.name,about:this.user.about,position:this.user.position,description:this.user.description,photo:this.user.file_path,access_level:this.user.access_level}},props:{user:{type:Object,required:!0}},computed:{showUsers:function(){return this.$store.getters.retrieveUsers}},methods:{fetchUsers:function(){this.$store.dispatch("retrieveUsers")}},created:function(){this.fetchUsers()}},_e=ke,Ce=(s("edae"),Object(g["a"])(_e,me,fe,!1,null,null,null)),we=Ce.exports,xe={name:"users",components:{User:we},props:{dataBackgroundColor:{type:String,default:"green"}},computed:{showUsers:function(){return this.$store.getters.retrieveUsers}},methods:{fetchUsers:function(){this.$store.dispatch("retrieveUsers")}},created:function(){this.fetchUsers()}},$e=xe,Ue=(s("c1d0"),Object(g["a"])($e,de,ue,!1,null,null,null)),ze=Ue.exports,Le={components:{EditProfileForm:ce,UserCard:ae,UsersPage:ze},computed:{showUpdate:function(){return this.$store.getters.showUpdate},showAccess:function(){return this.$store.getters.retrieveAccess}}},Ae=Le,Fe=Object(g["a"])(Ae,K,Q,!1,null,null,null),Pe=Fe.exports,Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{attrs:{fluid:""}},[s("b-input-group",{staticClass:"table-top",attrs:{size:"sm"}},[s("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),s("LeadsFilter",{staticClass:"filters"})],1),s("b-table",{attrs:{items:e.leadsFiltered,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,stacked:"md","show-empty":"",small:""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(update)",fn:function(e){return[s("PostUpdateLeads",{attrs:{lead:e.item}})]}},{key:"cell(actions)",fn:function(t){return[0==t.item.resubmission||0==t.item.resubmission?s("b-icon",{staticClass:"icons",attrs:{icon:"flag","font-scale":"1.5"},on:{click:function(s){return e.resubmission(t.item)}}}):e._e(),1==t.item.resubmission||1==t.item.resubmission?s("b-icon",{staticClass:"icons-red",attrs:{icon:"flag-fill","font-scale":"1.5"},on:{click:function(s){return e.resubmission(t.item)}}}):e._e(),s("b-icon",{staticClass:"icons",attrs:{icon:"trash","font-scale":"1.5"},on:{click:function(s){return e.remove(t.item.id)}}})]}},{key:"row-details",fn:function(t){return[s("b-card",[s("ul",e._l(t.item,(function(t,a){return s("li",{key:a},[e._v(e._s(a)+": "+e._s(t))])})),0)])]}}])})],1)},Be=[],Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("md-dialog",{attrs:{"md-active":e.showDialog},on:{"update:mdActive":function(t){e.showDialog=t},"update:md-active":function(t){e.showDialog=t}}},[s("md-dialog-content",{staticClass:"lead-update-content"},[s("div",{staticClass:"md-layout lead-update-form"},[s("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[s("md-field",[s("label",[e._v("Change name")]),s("md-input",{on:{blur:function(t){return e.updateLead(e.lead)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLead(e.lead)}},model:{value:e.lead.name,callback:function(t){e.$set(e.lead,"name",t)},expression:"lead.name"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[s("md-field",[s("label",[e._v("Change Email")]),s("md-input",{on:{blur:function(t){return e.updateLead(e.lead)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLead(e.lead)}},model:{value:e.lead.email,callback:function(t){e.$set(e.lead,"email",t)},expression:"lead.email"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[s("md-field",[s("label",[e._v("Change Telephone")]),s("md-input",{on:{blur:function(t){return e.updateLead(e.lead)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLead(e.lead)}},model:{value:e.lead.telephone,callback:function(t){e.$set(e.lead,"telephone",t)},expression:"lead.telephone"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[s("md-datepicker",{attrs:{"md-immediately":"","md-model-type":String},on:{change:function(t){return e.updateLead(e.lead)}},model:{value:e.lead.date,callback:function(t){e.$set(e.lead,"date",t)},expression:"lead.date"}},[s("label",[e._v("Change Date")])])],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[s("md-field",[s("label",[e._v("Change Time Landing")]),s("md-input",{on:{blur:function(t){return e.updateLead(e.lead)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLead(e.lead)}},model:{value:e.lead.time_landing,callback:function(t){e.$set(e.lead,"time_landing",t)},expression:"lead.time_landing"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[s("md-field",[s("label",[e._v("Change Time")]),s("md-input",{on:{blur:function(t){return e.updateLead(e.lead)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLead(e.lead)}},model:{value:e.lead.time,callback:function(t){e.$set(e.lead,"time",t)},expression:"lead.time"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[s("md-field",[s("label",[e._v("Change Aktion")]),s("md-input",{on:{blur:function(t){return e.updateLead(e.lead)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLead(e.lead)}},model:{value:e.lead.aktion,callback:function(t){e.$set(e.lead,"aktion",t)},expression:"lead.aktion"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[s("md-field",[s("label",[e._v("Change Quelle")]),s("md-input",{on:{blur:function(t){return e.updateLead(e.lead)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLead(e.lead)}},model:{value:e.lead.quelle,callback:function(t){e.$set(e.lead,"quelle",t)},expression:"lead.quelle"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[s("md-field",[s("label",[e._v("Change Call to Action")]),s("md-input",{on:{blur:function(t){return e.updateLead(e.lead)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLead(e.lead)}},model:{value:e.lead.call_to_action,callback:function(t){e.$set(e.lead,"call_to_action",t)},expression:"lead.call_to_action"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[s("md-field",[s("label",[e._v("Change Page")]),s("md-input",{on:{blur:function(t){return e.updateLead(e.lead)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLead(e.lead)}},model:{value:e.lead.page,callback:function(t){e.$set(e.lead,"page",t)},expression:"lead.page"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[s("md-field",[s("label",[e._v("Change URL")]),s("md-input",{on:{blur:function(t){return e.updateLead(e.lead)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateLead(e.lead)}},model:{value:e.lead.url,callback:function(t){e.$set(e.lead,"url",t)},expression:"lead.url"}})],1)],1),s("div",{staticClass:"md-layout-item md-small-size-100 md-size-33"},[s("md-field",[s("label",[e._v("Change Status")]),s("md-select",{model:{value:e.lead.status,callback:function(t){e.$set(e.lead,"status",t)},expression:"lead.status"}},[s("md-option",{attrs:{value:"Neu"}},[e._v("Neu")]),s("md-option",{attrs:{value:"Bearbeitung"}},[e._v("Bearbeitung")]),s("md-option",{attrs:{value:"Abgesclossen"}},[e._v("Abgesclossen")])],1)],1)],1),s("md-dialog-actions",[s("md-button",{staticClass:"md-primary",on:{click:function(t){e.showDialog=!1}}},[e._v("Close")]),s("md-button",{staticClass:"md-primary",on:{click:function(t){return e.updateLead(e.lead)}}},[e._v("Save")])],1)],1),s("div",{staticClass:"comment-from"},[s("h3",[e._v("Kommenter ")]),s("md-field",[s("label",[e._v("Your comment")]),s("md-textarea",{model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}})],1),s("md-button",{staticClass:"md-primary",on:{click:function(t){return e.postComment(e.lead.guid)}}},[e._v("Senden")]),s("md-content",{staticClass:"md-scrollbar"},[e._v(" "+e._s(e.showComment)+" ")]),s("h6",[e._v("Author : "+e._s(e.authorName))])],1)])],1),s("button",{on:{click:function(t){return e.showModal(e.lead.guid)}}},[s("b-icon-pencil",{attrs:{"font-scale":"1.5"}})],1)],1)},Ee=[],Ie={name:"TableCard",props:{dataBackgroundColor:{type:String,default:"green"},lead:{type:Object,required:!0}},data:function(){return{data:null,author:null,comment:null,showDialog:!1,name:this.lead.name,email:this.lead.email,telephone:this.lead.telephone,date:this.lead.date,timeLanding:this.lead.time_landing,time:this.lead.time,aktion:this.lead.aktion,quelle:this.lead.aktion,callToAction:this.lead.call_to_action,page:this.lead.page,url:this.lead.url,status:this.lead.status,guid:this.lead.guid}},computed:{showUser:function(){return this.$store.getters.retrieveUser},authorName:function(){return this.$store.getters.retrieveAuthor},showComment:function(){return this.$store.getters.retrieveComment}},methods:{updateLead:function(e){this.$store.dispatch("updateLead",e)},fetchComment:function(e){this.$store.dispatch("fetchComment",e)},postComment:function(e){console.log(this.comment),this.$store.dispatch("postComment",{guid:e,comment:this.comment}).then(this.fetchComment(e))},showModal:function(e){this.showDialog=!0,this.fetchComment(e)}},created:function(){this.$store.dispatch("retrieveUser")}},De=Ie,je=(s("0aa6"),Object(g["a"])(De,Se,Ee,!1,null,"3d84d566",null)),Ne=je.exports,Te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[s("b-button",{staticClass:"filter-buttons",class:{active:"all"==e.filter},attrs:{pill:"",variant:"outline-secondary"},on:{click:function(t){return e.changeFilter("all")}}},[e._v("Alle ")]),s("b-button",{staticClass:"filter-buttons",class:{active:"Neu"==e.filter},attrs:{pill:"",variant:"outline-secondary"},on:{click:function(t){return e.changeFilter("Neu")}}},[e._v("Neu ")]),s("b-button",{staticClass:"filter-buttons",class:{active:"Bearbeitung"==e.filter},attrs:{pill:"",variant:"outline-secondary"},on:{click:function(t){return e.changeFilter("Bearbeitung")}}},[e._v("Bearbeitung ")]),s("b-button",{staticClass:"filter-buttons",class:{active:"Abgesclossen"==e.filter},attrs:{pill:"",variant:"outline-secondary"},on:{click:function(t){return e.changeFilter("Abgesclossen")}}},[e._v("Abgesclossen ")]),s("b-button",{staticClass:"filter-buttons",class:{active:"Wiedervorlage"==e.filter},attrs:{pill:"",variant:"outline-secondary"},on:{click:function(t){return e.changeFilter("Wiedervorlage")}}},[e._v("Wiedervorlage ")])],1)])},Me=[],qe=(s("4de4"),{name:"todo-filtered",computed:{filter:function(){return this.$store.state.filter}},methods:{changeFilter:function(e){this.$store.dispatch("updateFilter",e),this.$store.dispatch("retrieveLeads")}}}),He=qe,Ve=(s("2665"),Object(g["a"])(He,Te,Me,!1,null,null,null)),Re=Ve.exports,We={components:{PostUpdateLeads:Ne,LeadsFilter:Re},data:function(){return{items:[],fields:[{key:"id",label:"ID",sortable:!0,class:"text-center"},{key:"name",label:"Name",sortable:!0,class:"text-center",sortDirection:"desc"},{key:"email",label:"Email",sortable:!0,class:"text-center"},{key:"telephone",label:"Telephone",sortable:!0,class:"text-center"},{key:"date",label:"Date",sortable:!0,class:"text-center"},{key:"aktion",label:"Action",sortable:!0,class:"text-center"},{key:"status",label:"Status",sortable:!0,class:"text-center"},{key:"actions",label:"Actions",class:"text-center"},{key:"update",label:"⠀",class:"text-center"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[]}},computed:{leadsFiltered:function(){return this.$store.getters.leadsFiltered}},mounted:function(){this.totalRows=this.items.length,this.fetchLeads()},methods:{fetchLeads:function(){this.$store.dispatch("retrieveLeads")},remove:function(e){l.a.delete("/lead/"+e).then(this.fetchLeads())},resubmission:function(e){0===e.resubmission?e.resubmission=!0:e.resubmission=!1,this.$store.dispatch("updateLead",e)},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}}},Je=We,Ye=(s("0a4e"),Object(g["a"])(Je,Oe,Be,!1,null,null,null)),Ge=Ye.exports,Ke=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{attrs:{fluid:""}},[s("b-input-group",{staticClass:"table-top",attrs:{size:"sm"}},[s("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),s("b-table",{attrs:{items:e.showHistory,fields:e.fields,"current-page":e.currentPage,filter:e.filter,"filter-included-fields":e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,stacked:"md","show-empty":"",small:""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"row-details",fn:function(t){return[s("b-card",[s("ul",e._l(t.item,(function(t,a){return s("li",{key:a},[e._v(e._s(a)+": "+e._s(t))])})),0)])]}}])})],1)},Qe=[],Xe={name:"History",data:function(){return{fields:[{key:"user_id",label:"User Name",sortable:!0,class:"text-center"},{key:"auditable_id",label:"Lead Id",sortable:!0,class:"text-center"},{key:"event",label:"event",sortable:!0,class:"text-center",sortDirection:"desc"},{key:"old_values",label:"From",sortable:!0,class:"text-center"},{key:"new_values",label:"To",sortable:!0,class:"text-center"},{key:"created_at",label:"Date",sortable:!0,class:"text-center"}],totalRows:1,currentPage:1,perPage:150,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[]}},computed:{showHistory:function(){return this.$store.getters.retrieveHistory}},methods:{retrieveHistory:function(){this.$store.dispatch("retrieveHistory")}},created:function(){this.retrieveHistory()}},Ze=Xe,et=Object(g["a"])(Ze,Ke,Qe,!1,null,null,null),tt=et.exports;a["default"].use(u["a"]);var st=[{path:"*",name:"home",component:G,meta:{requiresAuth:!0}},{path:"/",name:"home",component:G,meta:{requiresAuth:!0}},{path:"/home",name:"home",component:G,meta:{requiresAuth:!0}},{path:"/leads",name:"leads",component:Ge,meta:{requiresAuth:!0}},{path:"/users",name:"users",component:ze,meta:{requiresAuth:!0,requiresAdmin:!1}},{path:"/profile",name:"profile",component:Pe,meta:{requiresAuth:!0}},{path:"/history",name:"history",component:tt,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:b,meta:{requiresVisitor:!0}},{path:"/register",name:"register",component:x,meta:{requiresAuth:!0}},{path:"/logout",name:"logout",component:F}],at=st,nt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"main"}},[s("link",{attrs:{rel:"stylesheet",href:"//fonts.googleapis.com/css?family=Roboto:400,500,700,400italic|Material+Icons"}}),e.mobileView?s("HeaderMobile"):e._e(),s("div",{class:{open:e.showNav,content:e.mobileView}},[s("div",{staticClass:"top-bar"},[e.mobileView?s("div",{attrs:{id:"navigationIcons"},on:{click:function(t){e.showNav=!e.showNav}}},[s("i",{staticClass:"fas fa-bars"})]):e._e(),e.mobileView?e._e():s("Header"),s("div",{class:{open:e.showNav}},[s("router-view")],1)],1)])],1)},rt=[],it=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"navigation-mobile"}},[e.LoggedIn?s("span",[s("router-link",{attrs:{to:{name:"leads"}}},[e._v("Leads")])],1):e._e(),e.LoggedIn?s("span",[s("router-link",{attrs:{to:{name:"history"}}},[e._v("History")])],1):e._e(),e.LoggedIn&&"Admin"===e.showAccess?s("span",[s("router-link",{attrs:{to:{name:"users"}}},[e._v("Users")])],1):e._e(),e.LoggedIn?s("span",[s("router-link",{attrs:{to:{name:"home"}}},[e._v("Home")])],1):e._e(),e.LoggedIn?e._e():s("span",[s("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])],1),e.LoggedIn?s("span",[s("router-link",{attrs:{to:{name:"profile"}}},[e._v("Profile")])],1):e._e(),e.LoggedIn?s("span",[s("router-link",{attrs:{to:{name:"register"}}},[e._v("Register")])],1):e._e(),e.LoggedIn?s("span",[s("router-link",{attrs:{to:{name:"logout"}}},[e._v("Logout")])],1):e._e()])},ot=[],lt={computed:{LoggedIn:function(){return this.$store.getters.loggedIn},showAccess:function(){return this.$store.getters.retrieveAccess}}},ct=lt,dt=(s("35b2"),Object(g["a"])(ct,it,ot,!1,null,"561dd0f8",null)),ut=dt.exports,mt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"nav"},[e.LoggedIn?s("span",[s("router-link",{attrs:{to:{name:"leads"}}},[e._v("Leads")])],1):e._e(),e.LoggedIn?s("span",[s("router-link",{attrs:{to:{name:"history"}}},[e._v("History")])],1):e._e(),e.LoggedIn&&"Admin"===e.showAccess?s("span",[s("router-link",{attrs:{to:{name:"users"}}},[e._v("Users")])],1):e._e(),e.LoggedIn?s("span",[s("router-link",{attrs:{to:{name:"home"}}},[e._v("Home")])],1):e._e(),e.LoggedIn?e._e():s("span",[s("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])],1),e.LoggedIn?s("span",[s("router-link",{attrs:{to:{name:"profile"}}},[e._v("Profile")])],1):e._e(),e.LoggedIn?s("span",[s("router-link",{attrs:{to:{name:"register"}}},[e._v("Register")])],1):e._e(),e.LoggedIn?s("span",[s("router-link",{attrs:{to:{name:"logout"}}},[e._v("Logout")])],1):e._e()])])},ft=[],pt={data:function(){return{mobileView:!1,showNav:!1}},computed:{LoggedIn:function(){return this.$store.getters.loggedIn},showAccess:function(){return this.$store.getters.retrieveAccess}}},ht=pt,gt=(s("84a9"),Object(g["a"])(ht,mt,ft,!1,null,"e763f300",null)),vt=gt.exports,bt={components:{HeaderMobile:ut,Header:vt},data:function(){return{mobileView:!1,showNav:!1}},methods:{handleView:function(){this.mobileView=window.innerWidth<=990}},computed:{LoggedIn:function(){return this.$store.getters.loggedIn},showAccess:function(){return this.$store.getters.retrieveAccess}},created:function(){this.handleView()}},yt=bt,kt=(s("7de5"),Object(g["a"])(yt,nt,rt,!1,null,"284c580c",null)),_t=kt.exports,Ct=(s("d3b7"),s("159b"),s("5319"),s("c740"),s("2f62"));a["default"].use(Ct["a"]),l.a.defaults.baseURL="http://127.0.0.1:8000/api";var wt,xt,$t=new Ct["a"].Store({state:{token:localStorage.getItem("access_token")||null,userURL:"http://127.0.0.1:8000",filter:"all",showUpdate:!1,user:{},users:null,userPhoto:null,leads:[],history:[],author:null,comment:null},getters:{loggedIn:function(e){return null!==e.token},leadsFiltered:function(e){return"all"===e.filter?e.leads:"Neu"===e.filter?e.leads.filter((function(e){return"Neu"===e.status})):"Bearbeitung"===e.filter?e.leads.filter((function(e){return"Bearbeitung"==e.status})):"Abgesclossen"==e.filter?e.leads.filter((function(e){return"Abgesclossen"==e.status})):"Wiedervorlage"==e.filter?e.leads.filter((function(e){return e.resubmission})):void 0},showUpdate:function(e){return e.showUpdate},retrieveUser:function(e){return e.user},retrieveUsers:function(e){return e.users},retrieveHistory:function(e){return e.history},retrieveAuthor:function(e){return e.author},retrieveComment:function(e){return e.comment},retrieveAccess:function(e){return e.user.access_level}},mutations:{retrieveUser:function(e,t){e.user=t},retrieveUsers:function(e,t){e.users=t},retrieveUserPhoto:function(e,t){e.userPhoto=t},updateFilter:function(e,t){e.filter=t},updateGroupFilter:function(e,t){e.groupFilter=t},retrieveLeads:function(e,t){e.leads=t},fetchComment:function(e,t){e.comment=t},retrieveAuthor:function(e,t){e.author=t},retrieveHistory:function(e,t){e.history=t},retrieveToken:function(e,t){e.token=t},destroyToken:function(e){e.token=null},showUpdate:function(e,t){e.showUpdate=t}},actions:{retrieveUser:function(e){l.a.defaults.headers.common["Authorization"]="Bearer "+e.state.token,l.a.get("/user").then((function(t){console.log(t),e.commit("retrieveUser",t.data)})).catch((function(e){console.log(e)}))},retrieveUsers:function(e){l.a.defaults.headers.common["Authorization"]="Bearer "+e.state.token,l.a.get("/users").then((function(t){console.log(t),e.commit("retrieveUsers",t.data)})).catch((function(e){console.log(e)}))},retrieveUserPhoto:function(e){l.a.defaults.headers.common["Authorization"]="Bearer "+e.state.token,l.a.get("/user/image/receive").then((function(t){e.commit("retrieveUserPhoto",t.data)})).catch((function(e){console.log(e)}))},register:function(e,t){return new Promise((function(e,s){l.a.post("/register",{name:t.name,email:t.email,password:t.password}).then((function(t){e(t)})).catch((function(e){s(e)}))}))},destroyToken:function(e){if(l.a.defaults.headers.common["Authorization"]="Bearer "+e.state.token,e.getters.loggedIn)return new Promise((function(t,s){l.a.post("/logout").then((function(s){localStorage.removeItem("access_token"),e.commit("destroyToken"),t(s)})).catch((function(t){localStorage.removeItem("access_token"),e.commit("destroyToken"),s(t)}))}))},retrieveToken:function(e,t){return new Promise((function(s,a){l.a.post("/login",{username:t.username,password:t.password}).then((function(t){var a=t.data.access_token;localStorage.setItem("access_token",a),e.commit("retrieveToken",a),s(t),console.log(t)})).catch((function(e){console.log(e),a(e)}))}))},retrieveLeads:function(e){return new Promise((function(t,s){l.a.defaults.headers.common["Authorization"]="Bearer "+e.state.token,l.a.get("/leads").then((function(s){console.log(s),e.commit("retrieveLeads",s.data),t(s)})).catch((function(e){console.log(e),s(e)}))}))},updateLead:function(e,t){return new Promise((function(s,a){l.a.defaults.headers.common["Authorization"]="Bearer "+e.state.token,l.a.put("/lead/"+t.id,{lead:{name:t.name,email:t.email,telephone:t.telephone,date:t.date,time_landing:t.time_landing,time:t.time,aktion:t.aktion,quelle:t.quelle,call_to_action:t.call_to_action,page:t.page,url:t.url,status:t.status,resubmission:t.resubmission}}).then((function(e){s(e)})).catch((function(e){console.log(e),a(e)}))}))},fetchComment:function(e,t){return new Promise((function(s,a){console.log(t),l.a.defaults.headers.common["Authorization"]="Bearer "+e.state.token,l.a.get("/comment/"+t).then((function(t){e.commit("fetchComment",t.data[0].comment),e.commit("retrieveAuthor",t.data[0].author),s(t)})).catch((function(e){console.log(e),a(e)}))}))},postComment:function(e,t){return console.log(e),console.log(t.guid),console.log(t.comment),new Promise((function(s,a){l.a.defaults.headers.common["Authorization"]="Bearer "+e.state.token,l.a.post("/comment/"+t.guid,{comment:{comment:t.comment,author:e.state.user.name,guid:t.guid}}).then((function(e){s(e)})).catch((function(e){console.log(e),a(e)}))}))},updateFilter:function(e,t){e.commit("updateFilter",t)},showUpdate:function(e){this.showUpdate=!this.showUpdate,e.commit("showUpdate",this.showUpdate)},retrieveHistory:function(e){return new Promise((function(t,s){l.a.defaults.headers.common["Authorization"]="Bearer "+e.state.token,l.a.get("/users").then((function(t){e.state.users=t.data})).then(l.a.get("/history").then((function(s){s.data.forEach((function(t){"updated"==t.event&&(t.old_values=t.old_values.replaceAll('"',"").replaceAll("{","").replaceAll("}",""),t.new_values=t.new_values.replaceAll('"',"").replaceAll("{","").replaceAll("}",""),t.created_at=t.created_at.replace("T","  ").slice(0,20)),"deleted"==t.event&&(t.new_values="deleted",t.created_at=t.created_at.replace("T","  ").slice(0,20),t.old_values=JSON.parse(t.old_values).name);var s=e.state.users.findIndex((function(e){return e.id==t.user_id}));t.user_id=e.state.users[s].name})),console.log(s),e.commit("retrieveHistory",s.data),t(s)})).catch((function(e){console.log(e),s(e)})))}))}}}),Ut=(s("7051"),s("9949")),zt=s.n(Ut),Lt=(s("43f4"),s("43f9")),At=s.n(Lt),Ft=(s("9e17"),{install:function(e){e.use(At.a)}}),Pt=(s("6dfc"),s("4a7a")),Ot=s.n(Pt),Bt={},St=Object(g["a"])(Bt,wt,xt,!1,null,null,null),Et=St.exports,It=s("85df"),Dt=s("9483");Object(Dt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh."),window.location.reload(!0)},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),a["default"].component("v-select",Ot.a),a["default"].use(At.a),a["default"].use(d.a,l.a),a["default"].use(n["a"]),a["default"].use(r["b"]),a["default"].use(r["a"]),a["default"].use(u["a"]),a["default"].component("font-awesome-icon",i["a"]),a["default"].config.productionTip=!1,a["default"].use(zt.a),a["default"].use(At.a),a["default"].use(Ft),a["default"].use(It["a"]);var jt=new u["a"]({routes:at,mode:"history"});jt.beforeEach((function(e,t,s){e.matched.some((function(e){return e.meta.requiresAuth}))?$t.getters.loggedIn?s():s({name:"login"}):e.matched.some((function(e){return e.meta.requiresVisitor}))?$t.getters.loggedIn?s({name:"home"}):s():e.matched.some((function(e){return e.meta.requiresAdmin}))&&"Admin"===$t.getters.retrieveAccess?s({name:"home"}):s()})),new a["default"]({render:function(e){return e(_t)},vuetify:Et,router:jt,store:$t}).$mount("#app")},5950:function(e,t,s){"use strict";s("1945")},"7de5":function(e,t,s){"use strict";s("e06b")},"803d":function(e,t,s){"use strict";s("8232")},8232:function(e,t,s){},"84a9":function(e,t,s){"use strict";s("1121")},"967a":function(e,t,s){},"9e17":function(e,t,s){},aadf:function(e,t,s){},c1d0:function(e,t,s){"use strict";s("481b")},e008:function(e,t,s){},e06b:function(e,t,s){},edae:function(e,t,s){"use strict";s("aadf")}});
//# sourceMappingURL=app.40bd8dd4.js.map